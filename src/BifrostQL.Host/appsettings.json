{
  "ConnectionStrings": {
    "bifrost": "Server=localhost;Database=MBA_Software;Trusted_Connection=True;"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "BifrostQL": {
    "Path": "/graphql",
    "Playground": "/",
    "DisableAuth": true,
    "IncludeDynamicJoins": true,
    "IncludeTables": {
      "dbo": [
        ".*"
      ]
    },
    "IgnoreTables": {
      "dbo": [
        "systranschemas"
      ],
      ".*": [
        "^_.*"
      ]
    },
    "DbProperties": {
      "Audit.AuditTable": "auditLog",
      "Audit.UserKey": "username",
      "SoftDelete.Type": "deletedOn",
      "Schema.AutoJoin": true,
      "Schema.DePluralize": false,
      "Schema.ForeignJoins": false
    },
    "NamedJoins": [
      {
        "name": "claims",
        "type": "toMany",
        "srcTable": [ "dbo", "ClaimType" ],
        "destTable": [ "dbo", "Claim" ],
        "columns": [ [ "id", "claimId" ] ]
      },
      {
        "name": "claimType",
        "type": "lookup",
        "srcTable": [ "dbo", "Claim" ],
        "destTable": [ "dbo", "ClaimType" ],
        "columns": [ [ "ClaimId", "id" ] ]
      },
      {
        "name": "claims",
        "type": "toMany",
        "srcTable": [ "dbo", "Project" ],
        "destTable": [ "dbo", "Claim" ],
        "columns": [ [ "id", "projectId" ] ]
      },
      {
        "name": "project",
        "type": "toSingle",
        "srcTable": [ "dbo", "Claim" ],
        "destTable": [ "dbo", "Project" ],
        "columns": [ [ "projectId", "id" ] ]
      },
      {
        "name": "claimTypes",
        "type": "manyToMany",
        "tables": [
          { "match": [ "dbo", "Project" ] },
          {
            "match": [ "dbo", "Claim" ],
            "columns": [ [ "id", "projectId" ] ] 
          },
          {
            "match": [ "dbo", "ClaimType" ],
            "columns": [ [ "claimTypeId", "id" ] ]
          }
        ]
      },
      {
        "name": "projects",
        "type": "manyToMany",
        "tables": [
          { "match": [ "dbo", "ClaimType" ] },
          {
            "match": [ "dbo", "Claim" ],
            "columns": [ [ "id", "claimTypeId" ] ]
          },
          {
            "match": [ "dbo", "Project" ],
            "columns": [ [ "projectId", "id" ] ]
          }
        ]
      }
    ],
    "Metadata": [
      {
        "name": "Query.Lookup",
        "match": [
          [ "dbo", "(.*)Type$" ]
        ]
      },
      {
        "name": "Audit.CreatedOn",
        "match": [
          [ "dbo", ".*", "createdOn" ]
        ]
      },
      {
        "name": "Audit.UpdatedOn",
        "match": [
          [ "dbo", ".*", "updatedOn" ]
        ]
      },
      {
        "name": "Audit.CreatedBy",
        "match": [
          [ "dbo", ".*", "createdBy" ]
        ]
      },
      {
        "name": "Audit.UpdatedBy",
        "match": [
          [ "dbo", ".*", "updatedBy" ]
        ]
      },
      {
        "name": "SoftDelete.deletedOn",
        "match": [
          [ "dbo", ".*", "deletedOn" ]
        ]
      },
      {
        "name": "Schema.Label",
        "value": "RpcProjectId",
        "match": [
          [ "dbo", "Project" ]
        ]
      },
      {
        "name": "Schema.Label",
        "value": "name",
        "match": [
          [ "dbo", ".*" ]
        ]
      },
      {
        "name": "Query.AllowEdits",
        "match": [
          [ "dbo", "^Project$|^Claim$|(.*)Line$|(.*)Procedure$" ]
        ]
      }
    ]
  }
}
